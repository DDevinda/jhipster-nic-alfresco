{"remainingRequest":"/home/dushan/Desktop/projects/CA/nic_backend/node_modules/thread-loader/dist/cjs.js??ref--9-2!/home/dushan/Desktop/projects/CA/nic_backend/node_modules/ts-loader/index.js??ref--9-3!/home/dushan/Desktop/projects/CA/nic_backend/node_modules/angular-router-loader/src/index.js!/home/dushan/Desktop/projects/CA/nic_backend/node_modules/tslint-loader/index.js!/home/dushan/Desktop/projects/CA/nic_backend/src/main/webapp/app/admin/configuration/configuration.service.ts","dependencies":[{"path":"/home/dushan/Desktop/projects/CA/nic_backend/src/main/webapp/app/admin/configuration/configuration.service.ts","mtime":1568800492169},{"path":"/home/dushan/Desktop/projects/CA/nic_backend/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/home/dushan/Desktop/projects/CA/nic_backend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dushan/Desktop/projects/CA/nic_backend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dushan/Desktop/projects/CA/nic_backend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/dushan/Desktop/projects/CA/nic_backend/node_modules/angular-router-loader/src/index.js","mtime":1512749902000},{"path":"/home/dushan/Desktop/projects/CA/nic_backend/node_modules/tslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7CnZhciBfYTsKaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnOwppbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7CmltcG9ydCB7IFNFUlZFUl9BUElfVVJMIH0gZnJvbSAnYXBwL2FwcC5jb25zdGFudHMnOwpsZXQgSmhpQ29uZmlndXJhdGlvblNlcnZpY2UgPSBjbGFzcyBKaGlDb25maWd1cmF0aW9uU2VydmljZSB7CiAgICBjb25zdHJ1Y3RvcihodHRwKSB7CiAgICAgICAgdGhpcy5odHRwID0gaHR0cDsKICAgIH0KICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldChTRVJWRVJfQVBJX1VSTCArICdtYW5hZ2VtZW50L2NvbmZpZ3Byb3BzJywgeyBvYnNlcnZlOiAncmVzcG9uc2UnIH0pLnBpcGUobWFwKChyZXMpID0+IHsKICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IFtdOwogICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzT2JqZWN0ID0gdGhpcy5nZXRDb25maWdQcm9wZXJ0aWVzT2JqZWN0cyhyZXMuYm9keSk7CiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BlcnRpZXNPYmplY3QpIHsKICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzT2JqZWN0Lmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydGllc09iamVjdFtrZXldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcHJvcGVydGllcy5zb3J0KChwcm9wZXJ0eUEsIHByb3BlcnR5QikgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5QS5wcmVmaXggPT09IHByb3BlcnR5Qi5wcmVmaXggPyAwIDogcHJvcGVydHlBLnByZWZpeCA8IHByb3BlcnR5Qi5wcmVmaXggPyAtMSA6IDE7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pKTsKICAgIH0KICAgIGdldENvbmZpZ1Byb3BlcnRpZXNPYmplY3RzKHJlcykgewogICAgICAgIC8vIFRoaXMgY29kZSBpcyBmb3IgU3ByaW5nIEJvb3QgMgogICAgICAgIGlmIChyZXNbJ2NvbnRleHRzJ10gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXNbJ2NvbnRleHRzJ10pIHsKICAgICAgICAgICAgICAgIC8vIElmIHRoZSBrZXkgaXMgbm90IGJvb3RzdHJhcCwgaXQgd2lsbCBiZSB0aGUgQXBwbGljYXRpb25Db250ZXh0IElkCiAgICAgICAgICAgICAgICAvLyBGb3IgZGVmYXVsdCBhcHAsIGl0IGlzIGJhc2VOYW1lCiAgICAgICAgICAgICAgICAvLyBGb3IgbWljcm9zZXJ2aWNlLCBpdCBpcyBiYXNlTmFtZS0xCiAgICAgICAgICAgICAgICBpZiAoIWtleS5zdGFydHNXaXRoKCdib290c3RyYXAnKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNbJ2NvbnRleHRzJ11ba2V5XVsnYmVhbnMnXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBieSBkZWZhdWx0LCB1c2UgdGhlIGRlZmF1bHQgQXBwbGljYXRpb25Db250ZXh0IElkCiAgICAgICAgcmV0dXJuIHJlc1snY29udGV4dHMnXVsnTklDbmV3J11bJ2JlYW5zJ107CiAgICB9CiAgICBnZXRFbnYoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQoU0VSVkVSX0FQSV9VUkwgKyAnbWFuYWdlbWVudC9lbnYnLCB7IG9ic2VydmU6ICdyZXNwb25zZScgfSkucGlwZShtYXAoKHJlcykgPT4gewogICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307CiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5U291cmNlcyA9IHJlcy5ib2R5Wydwcm9wZXJ0eVNvdXJjZXMnXTsKICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eU9iamVjdCBvZiBwcm9wZXJ0eVNvdXJjZXMpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwcm9wZXJ0eU9iamVjdFsnbmFtZSddOwogICAgICAgICAgICAgICAgY29uc3QgZGV0YWlsUHJvcGVydGllcyA9IHByb3BlcnR5T2JqZWN0Wydwcm9wZXJ0aWVzJ107CiAgICAgICAgICAgICAgICBjb25zdCB2YWxzID0gW107CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleURldGFpbCBpbiBkZXRhaWxQcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRldGFpbFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5RGV0YWlsKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YWxzLnB1c2goeyBrZXk6IGtleURldGFpbCwgdmFsOiBkZXRhaWxQcm9wZXJ0aWVzW2tleURldGFpbF1bJ3ZhbHVlJ10gfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcHJvcGVydGllc1tuYW1lXSA9IHZhbHM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7CiAgICAgICAgfSkpOwogICAgfQp9OwpKaGlDb25maWd1cmF0aW9uU2VydmljZSA9IHRzbGliXzEuX19kZWNvcmF0ZShbCiAgICBJbmplY3RhYmxlKHsgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pLAogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEh0dHBDbGllbnQgIT09ICJ1bmRlZmluZWQiICYmIEh0dHBDbGllbnQpID09PSAiZnVuY3Rpb24iID8gX2EgOiBPYmplY3RdKQpdLCBKaGlDb25maWd1cmF0aW9uU2VydmljZSk7CmV4cG9ydCB7IEpoaUNvbmZpZ3VyYXRpb25TZXJ2aWNlIH07Cg=="},{"version":3,"file":"/home/dushan/Desktop/projects/CA/nic_backend/src/main/webapp/app/admin/configuration/configuration.service.ts","sourceRoot":"","sources":["/home/dushan/Desktop/projects/CA/nic_backend/node_modules/angular-router-loader/src/index.js!/home/dushan/Desktop/projects/CA/nic_backend/node_modules/tslint-loader/index.js!/home/dushan/Desktop/projects/CA/nic_backend/src/main/webapp/app/admin/configuration/configuration.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { SERVER_API_URL } from 'app/app.constants';\n\n@Injectable({ providedIn: 'root' })\nexport class JhiConfigurationService {\n  constructor(private http: HttpClient) {}\n\n  get(): Observable<any> {\n    return this.http.get(SERVER_API_URL + 'management/configprops', { observe: 'response' }).pipe(\n      map((res: HttpResponse<any>) => {\n        const properties: any[] = [];\n        const propertiesObject = this.getConfigPropertiesObjects(res.body);\n        for (const key in propertiesObject) {\n          if (propertiesObject.hasOwnProperty(key)) {\n            properties.push(propertiesObject[key]);\n          }\n        }\n\n        return properties.sort((propertyA, propertyB) => {\n          return propertyA.prefix === propertyB.prefix ? 0 : propertyA.prefix < propertyB.prefix ? -1 : 1;\n        });\n      })\n    );\n  }\n\n  getConfigPropertiesObjects(res: Object) {\n    // This code is for Spring Boot 2\n    if (res['contexts'] !== undefined) {\n      for (const key in res['contexts']) {\n        // If the key is not bootstrap, it will be the ApplicationContext Id\n        // For default app, it is baseName\n        // For microservice, it is baseName-1\n        if (!key.startsWith('bootstrap')) {\n          return res['contexts'][key]['beans'];\n        }\n      }\n    }\n    // by default, use the default ApplicationContext Id\n    return res['contexts']['NICnew']['beans'];\n  }\n\n  getEnv(): Observable<any> {\n    return this.http.get(SERVER_API_URL + 'management/env', { observe: 'response' }).pipe(\n      map((res: HttpResponse<any>) => {\n        const properties: any = {};\n        const propertySources = res.body['propertySources'];\n\n        for (const propertyObject of propertySources) {\n          const name = propertyObject['name'];\n          const detailProperties = propertyObject['properties'];\n          const vals: any[] = [];\n          for (const keyDetail in detailProperties) {\n            if (detailProperties.hasOwnProperty(keyDetail)) {\n              vals.push({ key: keyDetail, val: detailProperties[keyDetail]['value'] });\n            }\n          }\n          properties[name] = vals;\n        }\n        return properties;\n      })\n    );\n  }\n}\n"]}]}